(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61ad6428"],{9406:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("el-form",{ref:"addDataForm",attrs:{model:e.form,rules:e.formRules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"batch",label:"批次"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.batch,callback:function(t){e.$set(e.form,"batch",t)},expression:"form.batch"}})],1)],1),a("el-form-item",{attrs:{label:"导入文件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":e.handleChange,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"auto-upload":!1,multiple:"","file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传excel文件")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),a("el-button",[e._v("取消")])],1)],1)],1)},r=[],s=a("6c6d"),i=a("52c1"),l={name:"Dashboard",data:function(){var e=function(e,t,a){t?a():a(new Error("请输入批次"))};return{formRules:{batch:[{required:!0,validator:e,trigger:"blur"}]},form:{batch:""},fileList:[]}},computed:Object(s["a"])({},Object(i["b"])(["name"])),methods:{onSubmit:function(){var e=this;this.$refs.addDataForm.validate((function(t){if(!t)return console.log("error submit!"),!1;if(e.fileList.length){var a=new FormData;a.append("batch",e.form.batch);for(var o=0;o<e.fileList.length;o++)a.append("file",e.fileList[o].raw);e.$store.dispatch("addData/importWork",a).then((function(t){200==t.state?e.$message({message:t.msg,type:"success"}):e.$message({message:t.msg,type:"error"})})).catch((function(){}))}else e.$message({message:"请导入文件",type:"error"})}))},handleChange:function(e,t){console.log(e,t),this.fileList=t},handleRemove:function(e,t){console.log(e,t),this.fileList=t},handlePreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}}},n=l,c=(a("d250"),a("9ca4")),d=Object(c["a"])(n,o,r,!1,null,"6f67369a",null);t["default"]=d.exports},d250:function(e,t,a){"use strict";var o=a("dd9d"),r=a.n(o);r.a},dd9d:function(e,t,a){}}]);